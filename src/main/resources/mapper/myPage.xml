<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.library.bookhub.repository.MyPageRepository">



	<select id="findById" parameterType="int"
		resultType="com.library.bookhub.entity.User">
		SELECT *
		FROM BH_MEMBER
		WHERE id = #{id}
	</select>
	
	
	<select id="findByUserName" parameterType="String"
		resultType="com.library.bookhub.entity.User">
		SELECT *
		FROM BH_MEMBER
		WHERE userName = #{userName}
	</select>


    <update id="myPageUpdate" parameterType="com.library.bookhub.entity.User">
        UPDATE BH_MEMBER SET password = #{password}, name = #{name}, phone = #{phone},
        email = #{email}, point = #{point}, zip = #{zip}, addr1 = #{addr1}, addr2 = #{addr2}, role = #{role},
        wDate = #{wDate}, rDate = now() WHERE id = #{id}
    </update>

    <update id="myPageDeleteById" parameterType="com.library.bookhub.entity.User">
        UPDATE BH_MEMBER SET status = 1, wDate = now() WHERE id = #{id}
    </update>



</mapper>
